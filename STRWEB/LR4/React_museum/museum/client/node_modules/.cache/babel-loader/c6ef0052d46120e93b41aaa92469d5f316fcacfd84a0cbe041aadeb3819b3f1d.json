{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\React_museum\\\\museum\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useReducer, useRef, useCallback } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useLocation } from 'react-router-dom';\nimport { GoogleOAuthProvider } from '@react-oauth/google';\nimport { AuthProvider, useAuth } from './components/AuthContext';\nimport { uploadFileWithProgress, createTimerWithPersistence } from './components/asyncOperations';\nimport './App.css';\nimport { checkOllamaStatus } from './components/ollamaService';\n// –ò–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\nimport Navigation from './components/Navigation';\nimport HomePage from './components/HomePage';\nimport ExhibitCatalog from './components/ExhibitCatalog';\nimport ExhibitDetail from './components/ExhibitDetail';\nimport ExhibitForm from './components/ExhibitForm';\nimport ExhibitScanner from './components/ExhibitScanner';\nimport TourPlanner from './components/TourPlanner';\nimport ConservationTracker from './components/ConservationTracker';\nimport ExhibitAnalytics from './components/ExhibitAnalytics';\nimport LoginPage from './components/LoginPage';\nimport RegisterPage from './components/RegisterPage';\nimport TimeDisplay from './components/TimeDisplay';\n\n// Reducer –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –º—É–∑–µ—è\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst museumReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_EXHIBITS':\n      return {\n        ...state,\n        exhibits: action.payload\n      };\n    case 'ADD_EXHIBIT':\n      return {\n        ...state,\n        exhibits: [...state.exhibits, action.payload]\n      };\n    case 'UPDATE_EXHIBIT':\n      return {\n        ...state,\n        exhibits: state.exhibits.map(e => e._id === action.payload._id ? action.payload : e)\n      };\n    case 'DELETE_EXHIBIT':\n      return {\n        ...state,\n        exhibits: state.exhibits.filter(e => e._id !== action.payload)\n      };\n    case 'SET_FILTER':\n      return {\n        ...state,\n        filter: action.payload\n      };\n    case 'SET_SEARCH':\n      return {\n        ...state,\n        searchQuery: action.payload\n      };\n    case 'SET_SORT':\n      return {\n        ...state,\n        sortBy: action.payload.field,\n        sortOrder: action.payload.order\n      };\n    default:\n      return state;\n  }\n};\nfunction MainApp() {\n  _s();\n  const [ollamaStatus, setOllamaStatus] = useState(null);\n  useEffect(() => {\n    const checkOllama = async () => {\n      const status = await checkOllamaStatus();\n      setOllamaStatus(status);\n    };\n    checkOllama();\n  }, []);\n  const {\n    user,\n    notifications,\n    addNotification\n  } = useAuth();\n  const [museumState, dispatch] = useReducer(museumReducer, {\n    exhibits: [],\n    filter: 'all',\n    searchQuery: '',\n    sortBy: 'createdAt',\n    sortOrder: 'desc'\n  });\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isUploading, setIsUploading] = useState(false);\n  const fileInputRef = useRef(null);\n  const searchInputRef = useRef(null);\n\n  // 1. onClick - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ —ç–∫—Å–ø–æ–Ω–∞—Ç—É\n  const handleExhibitClick = useCallback(exhibit => {\n    console.log('–≠–∫—Å–ø–æ–Ω–∞—Ç –∫–ª–∏–∫–Ω—É—Ç:', exhibit.name);\n    addNotification(`–û—Ç–∫—Ä—ã—Ç —ç–∫—Å–ø–æ–Ω–∞—Ç: ${exhibit.name}`, 'info');\n  }, [addNotification]);\n\n  // 2. onChange - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞\n  const handleSearchChange = e => {\n    dispatch({\n      type: 'SET_SEARCH',\n      payload: e.target.value\n    });\n    console.log('–ü–æ–∏—Å–∫ –∏–∑–º–µ–Ω–µ–Ω:', e.target.value);\n  };\n\n  // 3. onSubmit - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –ø–æ–∏—Å–∫–∞\n  const handleSearchSubmit = e => {\n    e.preventDefault();\n    console.log('–§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞:', museumState.searchQuery);\n    addNotification(`–ü–æ–∏—Å–∫: ${museumState.searchQuery}`, 'info');\n  };\n\n  // 4. onMouseEnter - –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É\n  const handleMouseEnter = exhibit => {\n    console.log('–ù–∞–≤–µ–¥–µ–Ω–æ –Ω–∞ —ç–∫—Å–ø–æ–Ω–∞—Ç:', exhibit.name);\n  };\n\n  // 5. onMouseLeave - –ü—Ä–∏ —É—Ö–æ–¥–µ —Å –∫–∞—Ä—Ç–æ—á–∫–∏\n  const handleMouseLeave = exhibit => {\n    console.log('–£—à–ª–∏ —Å —ç–∫—Å–ø–æ–Ω–∞—Ç–∞:', exhibit.name);\n  };\n\n  // 6. onKeyDown - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã\n  const handleKeyDown = e => {\n    if (e.key === 'Escape' && searchInputRef.current) {\n      searchInputRef.current.blur();\n      dispatch({\n        type: 'SET_SEARCH',\n        payload: ''\n      });\n    }\n    if (e.ctrlKey && e.key === 'f') {\n      e.preventDefault();\n      if (searchInputRef.current) {\n        searchInputRef.current.focus();\n      }\n    }\n  };\n\n  // 7. onFocus - –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ –ø–æ–ª–µ\n  const handleFocus = fieldName => {\n    console.log('–§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ:', fieldName);\n  };\n\n  // 8. onBlur - –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞\n  const handleBlur = fieldName => {\n    console.log('–ü–æ—Ç–µ—Ä—è —Ñ–æ–∫—É—Å–∞:', fieldName);\n  };\n\n  // 9. onDoubleClick - –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫\n  const handleDoubleClick = exhibit => {\n    console.log('–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ —ç–∫—Å–ø–æ–Ω–∞—Ç—É:', exhibit.name);\n    addNotification(`–ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä: ${exhibit.name}`, 'info');\n  };\n\n  // 10. onContextMenu - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é\n  const handleContextMenu = (e, exhibit) => {\n    e.preventDefault();\n    console.log('–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è:', exhibit.name);\n  };\n\n  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–≤\n  useEffect(() => {\n    const loadExhibits = async () => {\n      try {\n        const response = await fetch('http://localhost:5000/api/bits');\n        if (response.ok) {\n          const data = await response.json();\n          dispatch({\n            type: 'SET_EXHIBITS',\n            payload: data.exhibits || []\n          });\n        }\n      } catch (error) {\n        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–≤:', error);\n      }\n    };\n    loadExhibits();\n  }, []);\n\n  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤\n  const handleFileUpload = async file => {\n    setIsUploading(true);\n    setUploadProgress(0);\n    try {\n      await uploadFileWithProgress(file, progress => {\n        setUploadProgress(progress);\n        console.log(`–ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏: ${progress}%`);\n      }, response => {\n        console.log('–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω:', response);\n        addNotification('–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω', 'success');\n        setIsUploading(false);\n      });\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);\n      addNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞', 'error');\n      setIsUploading(false);\n    }\n  };\n\n  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ç–∞–π–º–µ—Ä\n  useEffect(() => {\n    const timer = createTimerWithPersistence('sessionTimer', 3600,\n    // 1 —á–∞—Å\n    remaining => {\n      console.log('–¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–∏:', remaining);\n    }, () => {\n      addNotification('–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞', 'warning');\n    });\n    return () => {\n      timer.stop();\n    };\n  }, [addNotification]);\n\n  // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –ø–æ –∫–ª–∏–∫—É\n  const handleUploadClick = () => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    onKeyDown: handleKeyDown,\n    tabIndex: \"0\",\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {\n      user: user,\n      onSearchSubmit: handleSearchSubmit,\n      searchInputRef: searchInputRef,\n      onSearchChange: handleSearchChange,\n      searchQuery: museumState.searchQuery\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      ref: fileInputRef,\n      style: {\n        display: 'none'\n      },\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), isUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-progress\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        style: {\n          width: `${uploadProgress}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [uploadProgress, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TimeDisplay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifications-container\",\n      children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `notification notification-${notification.type}`,\n        onClick: () => console.log('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ'),\n        children: notification.message\n      }, notification.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(HomePage, {\n            exhibits: museumState.exhibits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/exhibits\",\n          element: /*#__PURE__*/_jsxDEV(ExhibitCatalog, {\n            exhibits: museumState.exhibits,\n            onExhibitClick: handleExhibitClick,\n            onMouseEnter: handleMouseEnter,\n            onMouseLeave: handleMouseLeave,\n            onDoubleClick: handleDoubleClick,\n            onContextMenu: handleContextMenu,\n            searchQuery: museumState.searchQuery,\n            onSearchChange: handleSearchChange,\n            onSearchSubmit: handleSearchSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/exhibits/:id\",\n          element: /*#__PURE__*/_jsxDEV(ExhibitDetail, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/exhibits/new\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            children: /*#__PURE__*/_jsxDEV(ExhibitForm, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/exhibits/:id/edit\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            children: /*#__PURE__*/_jsxDEV(ExhibitForm, {\n              mode: \"edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 69\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/scanner\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            children: /*#__PURE__*/_jsxDEV(ExhibitScanner, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 59\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/tours\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            children: /*#__PURE__*/_jsxDEV(TourPlanner, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/conservation\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            children: /*#__PURE__*/_jsxDEV(ConservationTracker, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/analytics\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            children: /*#__PURE__*/_jsxDEV(ExhibitAnalytics, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 61\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          element: /*#__PURE__*/_jsxDEV(RegisterPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUploadClick,\n        className: \"upload-btn\",\n        children: \"\\uD83D\\uDCE4 \\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041C\\u0443\\u0437\\u0435\\u0439 \\u0438\\u0441\\u043A\\u0443\\u0441\\u0441\\u0442\\u0432 \\xA9 2024 | React + Node.js \\u041B\\u0430\\u0431\\u043E\\u0440\\u0430\\u0442\\u043E\\u0440\\u043D\\u0430\\u044F \\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n}\n_s(MainApp, \"ei047AsaxKgXKjEarvrVRFdRKh4=\", false, function () {\n  return [useAuth];\n});\n_c = MainApp;\nfunction ProtectedRoute({\n  children\n}) {\n  _s2();\n  const {\n    user\n  } = useAuth();\n  const location = useLocation();\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 12\n    }, this);\n  }\n  return children;\n}\n_s2(ProtectedRoute, \"cTflZxqU4RCGHztF80S0D55o9CQ=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c2 = ProtectedRoute;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(GoogleOAuthProvider, {\n    clientId: process.env.REACT_APP_GOOGLE_CLIENT_ID || \"demo-client-id\",\n    children: /*#__PURE__*/_jsxDEV(AuthProvider, {\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(MainApp, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 309,\n    columnNumber: 5\n  }, this);\n}\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MainApp\");\n$RefreshReg$(_c2, \"ProtectedRoute\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useReducer","useRef","useCallback","BrowserRouter","Router","Routes","Route","Navigate","useLocation","GoogleOAuthProvider","AuthProvider","useAuth","uploadFileWithProgress","createTimerWithPersistence","checkOllamaStatus","Navigation","HomePage","ExhibitCatalog","ExhibitDetail","ExhibitForm","ExhibitScanner","TourPlanner","ConservationTracker","ExhibitAnalytics","LoginPage","RegisterPage","TimeDisplay","jsxDEV","_jsxDEV","museumReducer","state","action","type","exhibits","payload","map","e","_id","filter","searchQuery","sortBy","field","sortOrder","order","MainApp","_s","ollamaStatus","setOllamaStatus","checkOllama","status","user","notifications","addNotification","museumState","dispatch","uploadProgress","setUploadProgress","isUploading","setIsUploading","fileInputRef","searchInputRef","handleExhibitClick","exhibit","console","log","name","handleSearchChange","target","value","handleSearchSubmit","preventDefault","handleMouseEnter","handleMouseLeave","handleKeyDown","key","current","blur","ctrlKey","focus","handleFocus","fieldName","handleBlur","handleDoubleClick","handleContextMenu","loadExhibits","response","fetch","ok","data","json","error","handleFileUpload","file","progress","timer","remaining","stop","handleUploadClick","_fileInputRef$current","click","handleFileChange","files","className","onKeyDown","tabIndex","children","onSearchSubmit","onSearchChange","fileName","_jsxFileName","lineNumber","columnNumber","ref","style","display","onChange","width","notification","onClick","message","id","path","element","onExhibitClick","onMouseEnter","onMouseLeave","onDoubleClick","onContextMenu","ProtectedRoute","mode","_c","_s2","location","to","from","replace","_c2","App","clientId","process","env","REACT_APP_GOOGLE_CLIENT_ID","_c3","$RefreshReg$"],"sources":["C:/Users/user/React_museum/museum/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useRef, useCallback } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useLocation } from 'react-router-dom';\nimport { GoogleOAuthProvider } from '@react-oauth/google';\nimport { AuthProvider, useAuth } from './components/AuthContext';\nimport { uploadFileWithProgress, createTimerWithPersistence } from './components/asyncOperations';\nimport './App.css';\nimport { checkOllamaStatus } from './components/ollamaService';\n// –ò–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\nimport Navigation from './components/Navigation';\nimport HomePage from './components/HomePage';\nimport ExhibitCatalog from './components/ExhibitCatalog';\nimport ExhibitDetail from './components/ExhibitDetail';\nimport ExhibitForm from './components/ExhibitForm';\nimport ExhibitScanner from './components/ExhibitScanner';\nimport TourPlanner from './components/TourPlanner';\nimport ConservationTracker from './components/ConservationTracker';\nimport ExhibitAnalytics from './components/ExhibitAnalytics';\nimport LoginPage from './components/LoginPage';\nimport RegisterPage from './components/RegisterPage';\nimport TimeDisplay from './components/TimeDisplay';\n\n// Reducer –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –º—É–∑–µ—è\nconst museumReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_EXHIBITS':\n      return { ...state, exhibits: action.payload };\n    case 'ADD_EXHIBIT':\n      return { ...state, exhibits: [...state.exhibits, action.payload] };\n    case 'UPDATE_EXHIBIT':\n      return {\n        ...state,\n        exhibits: state.exhibits.map(e => \n          e._id === action.payload._id ? action.payload : e\n        )\n      };\n    case 'DELETE_EXHIBIT':\n      return {\n        ...state,\n        exhibits: state.exhibits.filter(e => e._id !== action.payload)\n      };\n    case 'SET_FILTER':\n      return { ...state, filter: action.payload };\n    case 'SET_SEARCH':\n      return { ...state, searchQuery: action.payload };\n    case 'SET_SORT':\n      return { ...state, sortBy: action.payload.field, sortOrder: action.payload.order };\n    default:\n      return state;\n  }\n};\n\nfunction MainApp() {\n  const [ollamaStatus, setOllamaStatus] = useState(null);\n\n  useEffect(() => {\n    const checkOllama = async () => {\n      const status = await checkOllamaStatus();\n      setOllamaStatus(status);\n    };\n    checkOllama();\n  }, []);\n\n  const { user, notifications, addNotification } = useAuth();\n  const [museumState, dispatch] = useReducer(museumReducer, {\n    exhibits: [],\n    filter: 'all',\n    searchQuery: '',\n    sortBy: 'createdAt',\n    sortOrder: 'desc'\n  });\n  \n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isUploading, setIsUploading] = useState(false);\n  const fileInputRef = useRef(null);\n  const searchInputRef = useRef(null);\n\n  // 1. onClick - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ —ç–∫—Å–ø–æ–Ω–∞—Ç—É\n  const handleExhibitClick = useCallback((exhibit) => {\n    console.log('–≠–∫—Å–ø–æ–Ω–∞—Ç –∫–ª–∏–∫–Ω—É—Ç:', exhibit.name);\n    addNotification(`–û—Ç–∫—Ä—ã—Ç —ç–∫—Å–ø–æ–Ω–∞—Ç: ${exhibit.name}`, 'info');\n  }, [addNotification]);\n\n  // 2. onChange - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞\n  const handleSearchChange = (e) => {\n    dispatch({ type: 'SET_SEARCH', payload: e.target.value });\n    console.log('–ü–æ–∏—Å–∫ –∏–∑–º–µ–Ω–µ–Ω:', e.target.value);\n  };\n\n  // 3. onSubmit - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –ø–æ–∏—Å–∫–∞\n  const handleSearchSubmit = (e) => {\n    e.preventDefault();\n    console.log('–§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞:', museumState.searchQuery);\n    addNotification(`–ü–æ–∏—Å–∫: ${museumState.searchQuery}`, 'info');\n  };\n\n  // 4. onMouseEnter - –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É\n  const handleMouseEnter = (exhibit) => {\n    console.log('–ù–∞–≤–µ–¥–µ–Ω–æ –Ω–∞ —ç–∫—Å–ø–æ–Ω–∞—Ç:', exhibit.name);\n  };\n\n  // 5. onMouseLeave - –ü—Ä–∏ —É—Ö–æ–¥–µ —Å –∫–∞—Ä—Ç–æ—á–∫–∏\n  const handleMouseLeave = (exhibit) => {\n    console.log('–£—à–ª–∏ —Å —ç–∫—Å–ø–æ–Ω–∞—Ç–∞:', exhibit.name);\n  };\n\n  // 6. onKeyDown - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã\n  const handleKeyDown = (e) => {\n    if (e.key === 'Escape' && searchInputRef.current) {\n      searchInputRef.current.blur();\n      dispatch({ type: 'SET_SEARCH', payload: '' });\n    }\n    \n    if (e.ctrlKey && e.key === 'f') {\n      e.preventDefault();\n      if (searchInputRef.current) {\n        searchInputRef.current.focus();\n      }\n    }\n  };\n\n  // 7. onFocus - –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ –ø–æ–ª–µ\n  const handleFocus = (fieldName) => {\n    console.log('–§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ:', fieldName);\n  };\n\n  // 8. onBlur - –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞\n  const handleBlur = (fieldName) => {\n    console.log('–ü–æ—Ç–µ—Ä—è —Ñ–æ–∫—É—Å–∞:', fieldName);\n  };\n\n  // 9. onDoubleClick - –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫\n  const handleDoubleClick = (exhibit) => {\n    console.log('–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ —ç–∫—Å–ø–æ–Ω–∞—Ç—É:', exhibit.name);\n    addNotification(`–ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä: ${exhibit.name}`, 'info');\n  };\n\n  // 10. onContextMenu - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é\n  const handleContextMenu = (e, exhibit) => {\n    e.preventDefault();\n    console.log('–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è:', exhibit.name);\n  };\n\n  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–≤\n  useEffect(() => {\n    const loadExhibits = async () => {\n      try {const response = await fetch('http://localhost:5000/api/bits');\n        \n        if (response.ok) {\n          const data = await response.json();\n          dispatch({ type: 'SET_EXHIBITS', payload: data.exhibits || [] });\n        }\n      } catch (error) {\n        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–≤:', error);\n      }\n    };\n    \n    loadExhibits();\n  }, []);\n\n  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤\n  const handleFileUpload = async (file) => {\n    setIsUploading(true);\n    setUploadProgress(0);\n    \n    try {\n      await uploadFileWithProgress(\n        file,\n        (progress) => {\n          setUploadProgress(progress);\n          console.log(`–ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏: ${progress}%`);\n        },\n        (response) => {\n          console.log('–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω:', response);\n          addNotification('–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω', 'success');\n          setIsUploading(false);\n        }\n      );\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);\n      addNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞', 'error');\n      setIsUploading(false);\n    }\n  };\n\n  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ç–∞–π–º–µ—Ä\n  useEffect(() => {\n    const timer = createTimerWithPersistence(\n      'sessionTimer',\n      3600, // 1 —á–∞—Å\n      (remaining) => {\n        console.log('–¢–∞–π–º–µ—Ä —Å–µ—Å—Å–∏–∏:', remaining);\n      },\n      () => {\n        addNotification('–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞', 'warning');\n      }\n    );\n    \n    return () => {\n      timer.stop();\n    };\n  }, [addNotification]);\n\n  // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –ø–æ –∫–ª–∏–∫—É\n  const handleUploadClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      handleFileUpload(file);\n    }\n  };\n\n  return (\n    <div className=\"app\" onKeyDown={handleKeyDown} tabIndex=\"0\">\n      <Navigation \n        user={user} \n        onSearchSubmit={handleSearchSubmit}\n        searchInputRef={searchInputRef}\n        onSearchChange={handleSearchChange}\n        searchQuery={museumState.searchQuery}\n      />\n      \n      {/* –°–∫—Ä—ã—Ç—ã–π input –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ */}\n      <input\n        type=\"file\"\n        ref={fileInputRef}\n        style={{ display: 'none' }}\n        onChange={handleFileChange}\n      />\n      \n      {/* –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ */}\n      {isUploading && (\n        <div className=\"upload-progress\">\n          <div className=\"progress-bar\" style={{ width: `${uploadProgress}%` }} />\n          <span>{uploadProgress}%</span>\n        </div>\n      )}\n      \n      {/* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ */}\n      <TimeDisplay />\n      \n      {/* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */}\n      <div className=\"notifications-container\">\n        {notifications.map(notification => (\n          <div \n            key={notification.id} \n            className={`notification notification-${notification.type}`}\n            onClick={() => console.log('–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ')}\n          >\n            {notification.message}\n          </div>\n        ))}\n      </div>\n      \n      <main className=\"main-content\">\n        <Routes>\n          <Route path=\"/\" element={<HomePage exhibits={museumState.exhibits} />} />\n          <Route path=\"/exhibits\" element={\n            <ExhibitCatalog \n              exhibits={museumState.exhibits}\n              onExhibitClick={handleExhibitClick}\n              onMouseEnter={handleMouseEnter}\n              onMouseLeave={handleMouseLeave}\n              onDoubleClick={handleDoubleClick}\n              onContextMenu={handleContextMenu}\n              searchQuery={museumState.searchQuery}\n              onSearchChange={handleSearchChange}\n              onSearchSubmit={handleSearchSubmit}\n            />\n          } />\n          <Route path=\"/exhibits/:id\" element={<ExhibitDetail />} />\n          <Route path=\"/exhibits/new\" element={<ProtectedRoute><ExhibitForm /></ProtectedRoute>} />\n          <Route path=\"/exhibits/:id/edit\" element={<ProtectedRoute><ExhibitForm mode=\"edit\" /></ProtectedRoute>} />\n          <Route path=\"/scanner\" element={<ProtectedRoute><ExhibitScanner /></ProtectedRoute>} />\n          <Route path=\"/tours\" element={<ProtectedRoute><TourPlanner /></ProtectedRoute>} />\n          <Route path=\"/conservation\" element={<ProtectedRoute><ConservationTracker /></ProtectedRoute>} />\n          <Route path=\"/analytics\" element={<ProtectedRoute><ExhibitAnalytics /></ProtectedRoute>} />\n          <Route path=\"/login\" element={<LoginPage />} />\n          <Route path=\"/register\" element={<RegisterPage />} />\n        </Routes>\n      </main>\n      \n      <footer className=\"footer\">\n        <button onClick={handleUploadClick} className=\"upload-btn\">\n          üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª\n        </button>\n        <p>–ú—É–∑–µ–π –∏—Å–∫—É—Å—Å—Ç–≤ ¬© 2024 | React + Node.js –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞</p>\n      </footer>\n    </div>\n  );\n}\n\nfunction ProtectedRoute({ children }) {\n  const { user } = useAuth();\n  const location = useLocation();\n  \n  if (!user) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n  \n  return children;\n}\n\nfunction App() {\n  return (\n    <GoogleOAuthProvider clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID || \"demo-client-id\"}>\n      <AuthProvider>\n        <Router>\n          <MainApp />\n        </Router>\n      </AuthProvider>\n    </GoogleOAuthProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}