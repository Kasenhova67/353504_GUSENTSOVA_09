{"ast":null,"code":"// Ğ’ Ñ„Ğ°Ğ¹Ğ»Ğµ ollamaService.js Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºÑƒ Ğ¸ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ analyzeWithOllama:\n\nexport const checkOllamaStatus = async () => {\n  try {\n    const response = await fetch('http://localhost:11434/api/tags');\n    if (response.ok) {\n      const data = await response.json();\n      console.log('âœ… Ollama Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½, Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸:', data.models);\n      return {\n        available: true,\n        models: data.models,\n        message: 'Ollama Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½'\n      };\n    } else {\n      throw new Error('Ollama Ğ½Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚');\n    }\n  } catch (error) {\n    console.warn('âš ï¸ Ollama Ğ½Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½:', error.message);\n    console.log('ğŸ“‹ Ğ”Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° AI Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:');\n    console.log('   1. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ollama Ñ https://ollama.ai/');\n    console.log('   2. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ: ollama run llama2');\n    console.log('   3. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ ÑĞµÑ€Ğ²ĞµÑ€');\n    return {\n      available: false,\n      models: [],\n      message: 'Ollama Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ñ https://ollama.ai/'\n    };\n  }\n};\n\n// ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:\nexport const analyzeWithOllama = async (exhibit, analysisType = 'description') => {\n  const startTime = Date.now();\n\n  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚ÑŒ Ollama\n  const status = await checkOllamaStatus();\n  if (!status.available) {\n    return {\n      success: false,\n      content: getFallbackResponse(exhibit, analysisType),\n      model: 'demo',\n      time: 100,\n      tokens: 0,\n      type: analysisType,\n      title: getAnalysisTitle(analysisType) + ' (Ğ´ĞµĞ¼Ğ¾ - Ollama Ğ½Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½)',\n      note: 'Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ollama: https://ollama.ai/\\nĞ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ: ollama run llama2'\n    };\n  }\n\n  // Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ°\n  const prompt = generatePrompt(exhibit, analysisType);\n  const model = 'llama2'; // Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½ÑƒÑ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ\n\n  try {\n    const response = await fetch('http://localhost:11434/api/generate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        model,\n        prompt,\n        stream: false,\n        options: {\n          temperature: 0.7,\n          num_predict: 500\n        }\n      })\n    });\n    if (!response.ok) {\n      throw new Error(`ĞÑˆĞ¸Ğ±ĞºĞ° Ollama API: ${response.status}`);\n    }\n    const data = await response.json();\n    const endTime = Date.now();\n    return {\n      success: true,\n      content: data.response,\n      model: data.model,\n      time: endTime - startTime,\n      tokens: data.total_duration ? Math.round(data.total_duration / 1000000) : 0,\n      type: analysisType,\n      title: getAnalysisTitle(analysisType),\n      note: `Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒÑ ${data.model}`\n    };\n  } catch (error) {\n    console.error('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ° Ğº Ollama:', error);\n    return {\n      success: false,\n      content: getFallbackResponse(exhibit, analysisType),\n      model: 'demo',\n      time: 100,\n      tokens: 0,\n      type: analysisType,\n      title: getAnalysisTitle(analysisType) + ' (Ğ´ĞµĞ¼Ğ¾ - Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°)',\n      note: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ, Ñ‡Ñ‚Ğ¾ Ollama Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½: ollama run llama2'\n    };\n  }\n};\n\n// Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ getFallbackResponse Ğ´Ğ»Ñ Ğ»ÑƒÑ‡ÑˆĞ¸Ñ… Ğ´ĞµĞ¼Ğ¾-Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²\nconst getFallbackResponse = (exhibit, type) => {\n  var _exhibit$materials;\n  const {\n    name = 'Ğ­ĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚',\n    category = 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ°Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ',\n    year = 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ğ´'\n  } = exhibit;\n  const responses = {\n    description: `# ${name}\n    \n## Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ°\nĞ­ĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚ \"${name}\" Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ±Ğ¾Ğ¹ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ·ĞµÑ† ${category}, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ² ${year} Ğ³Ğ¾Ğ´Ñƒ. Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ²Ğ°Ğ¶Ğ½Ğ¾Ğ¹ Ñ‡Ğ°ÑÑ‚ÑŒÑ ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ğ¾Ğ³Ğ¾ Ğ½Ğ°ÑĞ»ĞµĞ´Ğ¸Ñ Ğ¸ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑÑ‚Ğ²Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ĞµĞ»ĞµĞ¹.\n\n## Ğ¥ÑƒĞ´Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸\n- ĞœĞ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹: ${((_exhibit$materials = exhibit.materials) === null || _exhibit$materials === void 0 ? void 0 : _exhibit$materials.join(', ')) || 'Ñ‚Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹'}\n- Ğ¢ĞµÑ…Ğ½Ğ¸ĞºĞ° Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ: ${exhibit.dimensions ? `Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ ${exhibit.dimensions.height}Ã—${exhibit.dimensions.width} ÑĞ¼` : 'Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°'}\n- Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ: ${exhibit.conservationState || 'Ñ…Ğ¾Ñ€Ğ¾ÑˆĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ'}\n\n## ĞšÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ\nĞ”Ğ°Ğ½Ğ½Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ±Ğ¾Ğ»ÑŒÑˆÑƒÑ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºÑƒÑ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑ Ğ´Ğ»Ñ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ¸ Ñ†ĞµĞ½Ğ¸Ñ‚ĞµĞ»ĞµĞ¹ Ğ¸ÑĞºÑƒÑÑÑ‚Ğ²Ğ°.\n\n*ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ: Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ AI-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ollama Ñ https://ollama.ai/*`,\n    conservation: `# ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ½Ğ¾ÑÑ‚Ğ¸\n## Ğ­ĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚: ${name}\n\n### Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ: ${exhibit.conservationState || 'Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¾Ñ†ĞµĞ½ĞºĞ¸'}\n### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ€Ğ¸ÑĞºĞ°: ${category}\n\n### Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ:\n1. **Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ**\n   - Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°: 18-22Â°C\n   - Ğ’Ğ»Ğ°Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ: 45-55%\n   - Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ³Ğ¾ ÑĞ²ĞµÑ‚Ğ°\n\n2. **ĞŸĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸**\n   - Ğ•Ğ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ñ‹Ğ¹ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€\n   - Ğ•Ğ¶ĞµĞ³Ğ¾Ğ´Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°\n   - Ğ¤Ğ¾Ñ‚Ğ¾Ñ„Ğ¸ĞºÑĞ°Ñ†Ğ¸Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ\n\n3. **ĞœĞµÑ€Ñ‹ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸**\n   - Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ĞºĞ¸Ñ… Ğ¿ĞµÑ€ĞµĞ¿Ğ°Ğ´Ğ¾Ğ² Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹\n   - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ€ĞµĞ´ÑÑ‚Ğ²Ğ° Ğ´Ğ»Ñ ÑƒÑ…Ğ¾Ğ´Ğ°\n   - Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ² Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑƒĞ¿Ğ°ĞºĞ¾Ğ²ĞºĞµ\n\n*Ğ”Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ollama*`,\n    art: `# Ğ˜ÑĞºÑƒÑÑÑ‚Ğ²Ğ¾Ğ²ĞµĞ´Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·\n## ${name}\n\n### Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸:\n- ĞŸÑ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğº Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ: ${category}\n- ĞŸĞµÑ€Ğ¸Ğ¾Ğ´ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ: ${year} Ğ³Ğ¾Ğ´\n- Ğ¥Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ½Ñ‹Ğµ Ñ‡ĞµÑ€Ñ‚Ñ‹: Ñ‚Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ°Ñ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ° Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ\n\n### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·:\nĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ³Ğ°Ñ€Ğ¼Ğ¾Ğ½Ğ¸Ñ‡Ğ½Ğ¾Ğµ ÑĞ¾Ñ‡ĞµÑ‚Ğ°Ğ½Ğ¸Ğµ Ñ„Ğ¾Ñ€Ğ¼Ñ‹ Ğ¸ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ñ, Ñ‡Ñ‚Ğ¾ Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğ¹ ÑĞ²Ğ¾ĞµĞ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸.\n\n### Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚:\nĞ­ĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½ Ğ² Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´, ĞºĞ¾Ğ³Ğ´Ğ° ${getHistoricalContext(year)}.\n\n### Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ:\nĞŸÑ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑ Ğ´Ğ»Ñ Ğ¸ÑĞºÑƒÑÑÑ‚Ğ²Ğ¾Ğ²ĞµĞ´Ğ¾Ğ² Ğ¸ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸ĞºĞ¾Ğ².\n\n*Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ollama Ğ´Ğ»Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ AI-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°*`\n  };\n  return responses[type] || responses.description;\n};\nconst getHistoricalContext = year => {\n  if (year < 0) return 'Ğ´Ñ€ĞµĞ²Ğ½Ğ¸Ñ… Ñ†Ğ¸Ğ²Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹';\n  if (year < 500) return 'Ñ€Ğ°Ğ½Ğ½ĞµĞ³Ğ¾ ÑÑ€ĞµĞ´Ğ½ĞµĞ²ĞµĞºĞ¾Ğ²ÑŒÑ';\n  if (year < 1500) return 'ÑÑ€ĞµĞ´Ğ½ĞµĞ²ĞµĞºĞ¾Ğ²ÑŒÑ';\n  if (year < 1800) return 'ÑĞ¿Ğ¾Ñ…Ğ¸ Ğ’Ğ¾Ğ·Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ';\n  if (year < 1900) return 'ĞĞ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸';\n  return 'ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸';\n};","map":{"version":3,"names":["checkOllamaStatus","response","fetch","ok","data","json","console","log","models","available","message","Error","error","warn","analyzeWithOllama","exhibit","analysisType","startTime","Date","now","status","success","content","getFallbackResponse","model","time","tokens","type","title","getAnalysisTitle","note","prompt","generatePrompt","method","headers","body","JSON","stringify","stream","options","temperature","num_predict","endTime","total_duration","Math","round","_exhibit$materials","name","category","year","responses","description","materials","join","dimensions","height","width","conservationState","conservation","art","getHistoricalContext"],"sources":["C:/Users/user/React_museum/museum/client/src/components/ollamaService.js"],"sourcesContent":["// Ğ’ Ñ„Ğ°Ğ¹Ğ»Ğµ ollamaService.js Ğ´Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºÑƒ Ğ¸ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ analyzeWithOllama:\r\n\r\nexport const checkOllamaStatus = async () => {\r\n  try {\r\n    const response = await fetch('http://localhost:11434/api/tags');\r\n    \r\n    if (response.ok) {\r\n      const data = await response.json();\r\n      console.log('âœ… Ollama Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½, Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸:', data.models);\r\n      return {\r\n        available: true,\r\n        models: data.models,\r\n        message: 'Ollama Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½'\r\n      };\r\n    } else {\r\n      throw new Error('Ollama Ğ½Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚');\r\n    }\r\n  } catch (error) {\r\n    console.warn('âš ï¸ Ollama Ğ½Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½:', error.message);\r\n    console.log('ğŸ“‹ Ğ”Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° AI Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:');\r\n    console.log('   1. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ollama Ñ https://ollama.ai/');\r\n    console.log('   2. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ: ollama run llama2');\r\n    console.log('   3. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ ÑĞµÑ€Ğ²ĞµÑ€');\r\n    \r\n    return {\r\n      available: false,\r\n      models: [],\r\n      message: 'Ollama Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ñ https://ollama.ai/'\r\n    };\r\n  }\r\n};\r\n\r\n// ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°:\r\nexport const analyzeWithOllama = async (exhibit, analysisType = 'description') => {\r\n  const startTime = Date.now();\r\n  \r\n  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚ÑŒ Ollama\r\n  const status = await checkOllamaStatus();\r\n  \r\n  if (!status.available) {\r\n    return {\r\n      success: false,\r\n      content: getFallbackResponse(exhibit, analysisType),\r\n      model: 'demo',\r\n      time: 100,\r\n      tokens: 0,\r\n      type: analysisType,\r\n      title: getAnalysisTitle(analysisType) + ' (Ğ´ĞµĞ¼Ğ¾ - Ollama Ğ½Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½)',\r\n      note: 'Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ollama: https://ollama.ai/\\nĞ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ: ollama run llama2'\r\n    };\r\n  }\r\n  \r\n  // Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ°\r\n  const prompt = generatePrompt(exhibit, analysisType);\r\n  const model = 'llama2'; // Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½ÑƒÑ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ\r\n  \r\n  try {\r\n    const response = await fetch('http://localhost:11434/api/generate', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        model,\r\n        prompt,\r\n        stream: false,\r\n        options: {\r\n          temperature: 0.7,\r\n          num_predict: 500\r\n        }\r\n      })\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`ĞÑˆĞ¸Ğ±ĞºĞ° Ollama API: ${response.status}`);\r\n    }\r\n    \r\n    const data = await response.json();\r\n    const endTime = Date.now();\r\n    \r\n    return {\r\n      success: true,\r\n      content: data.response,\r\n      model: data.model,\r\n      time: endTime - startTime,\r\n      tokens: data.total_duration ? Math.round(data.total_duration / 1000000) : 0,\r\n      type: analysisType,\r\n      title: getAnalysisTitle(analysisType),\r\n      note: `Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒÑ ${data.model}`\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ° Ğº Ollama:', error);\r\n    \r\n    return {\r\n      success: false,\r\n      content: getFallbackResponse(exhibit, analysisType),\r\n      model: 'demo',\r\n      time: 100,\r\n      tokens: 0,\r\n      type: analysisType,\r\n      title: getAnalysisTitle(analysisType) + ' (Ğ´ĞµĞ¼Ğ¾ - Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°)',\r\n      note: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ, Ñ‡Ñ‚Ğ¾ Ollama Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½: ollama run llama2'\r\n    };\r\n  }\r\n};\r\n\r\n// Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ getFallbackResponse Ğ´Ğ»Ñ Ğ»ÑƒÑ‡ÑˆĞ¸Ñ… Ğ´ĞµĞ¼Ğ¾-Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²\r\nconst getFallbackResponse = (exhibit, type) => {\r\n  const { name = 'Ğ­ĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚', category = 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ°Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ', year = 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ğ´' } = exhibit;\r\n  \r\n  const responses = {\r\n    description: `# ${name}\r\n    \r\n## Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ°\r\nĞ­ĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚ \"${name}\" Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ±Ğ¾Ğ¹ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ·ĞµÑ† ${category}, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ² ${year} Ğ³Ğ¾Ğ´Ñƒ. Ğ­Ñ‚Ğ¾Ñ‚ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ²Ğ°Ğ¶Ğ½Ğ¾Ğ¹ Ñ‡Ğ°ÑÑ‚ÑŒÑ ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ğ¾Ğ³Ğ¾ Ğ½Ğ°ÑĞ»ĞµĞ´Ğ¸Ñ Ğ¸ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑÑ‚Ğ²Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ĞµĞ»ĞµĞ¹.\r\n\r\n## Ğ¥ÑƒĞ´Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸\r\n- ĞœĞ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹: ${exhibit.materials?.join(', ') || 'Ñ‚Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹'}\r\n- Ğ¢ĞµÑ…Ğ½Ğ¸ĞºĞ° Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ: ${exhibit.dimensions ? `Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ ${exhibit.dimensions.height}Ã—${exhibit.dimensions.width} ÑĞ¼` : 'Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑĞºĞ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°'}\r\n- Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ: ${exhibit.conservationState || 'Ñ…Ğ¾Ñ€Ğ¾ÑˆĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ'}\r\n\r\n## ĞšÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ\r\nĞ”Ğ°Ğ½Ğ½Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ±Ğ¾Ğ»ÑŒÑˆÑƒÑ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºÑƒÑ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑ Ğ´Ğ»Ñ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ¸ Ñ†ĞµĞ½Ğ¸Ñ‚ĞµĞ»ĞµĞ¹ Ğ¸ÑĞºÑƒÑÑÑ‚Ğ²Ğ°.\r\n\r\n*ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ: Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ AI-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ollama Ñ https://ollama.ai/*`,\r\n    \r\n    conservation: `# ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ½Ğ¾ÑÑ‚Ğ¸\r\n## Ğ­ĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚: ${name}\r\n\r\n### Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ: ${exhibit.conservationState || 'Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¾Ñ†ĞµĞ½ĞºĞ¸'}\r\n### ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ€Ğ¸ÑĞºĞ°: ${category}\r\n\r\n### Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ:\r\n1. **Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ**\r\n   - Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°: 18-22Â°C\r\n   - Ğ’Ğ»Ğ°Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ: 45-55%\r\n   - Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ³Ğ¾ ÑĞ²ĞµÑ‚Ğ°\r\n\r\n2. **ĞŸĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸**\r\n   - Ğ•Ğ¶ĞµĞ¼ĞµÑÑÑ‡Ğ½Ñ‹Ğ¹ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€\r\n   - Ğ•Ğ¶ĞµĞ³Ğ¾Ğ´Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°\r\n   - Ğ¤Ğ¾Ñ‚Ğ¾Ñ„Ğ¸ĞºÑĞ°Ñ†Ğ¸Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ\r\n\r\n3. **ĞœĞµÑ€Ñ‹ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸**\r\n   - Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ĞºĞ¸Ñ… Ğ¿ĞµÑ€ĞµĞ¿Ğ°Ğ´Ğ¾Ğ² Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹\r\n   - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ€ĞµĞ´ÑÑ‚Ğ²Ğ° Ğ´Ğ»Ñ ÑƒÑ…Ğ¾Ğ´Ğ°\r\n   - Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ² Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑƒĞ¿Ğ°ĞºĞ¾Ğ²ĞºĞµ\r\n\r\n*Ğ”Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ollama*`,\r\n    \r\n    art: `# Ğ˜ÑĞºÑƒÑÑÑ‚Ğ²Ğ¾Ğ²ĞµĞ´Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·\r\n## ${name}\r\n\r\n### Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸:\r\n- ĞŸÑ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğº Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ: ${category}\r\n- ĞŸĞµÑ€Ğ¸Ğ¾Ğ´ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ: ${year} Ğ³Ğ¾Ğ´\r\n- Ğ¥Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ½Ñ‹Ğµ Ñ‡ĞµÑ€Ñ‚Ñ‹: Ñ‚Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ°Ñ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ° Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ\r\n\r\n### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·:\r\nĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ³Ğ°Ñ€Ğ¼Ğ¾Ğ½Ğ¸Ñ‡Ğ½Ğ¾Ğµ ÑĞ¾Ñ‡ĞµÑ‚Ğ°Ğ½Ğ¸Ğµ Ñ„Ğ¾Ñ€Ğ¼Ñ‹ Ğ¸ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ñ, Ñ‡Ñ‚Ğ¾ Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğ¹ ÑĞ²Ğ¾ĞµĞ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸.\r\n\r\n### Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚:\r\nĞ­ĞºÑĞ¿Ğ¾Ğ½Ğ°Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½ Ğ² Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´, ĞºĞ¾Ğ³Ğ´Ğ° ${getHistoricalContext(year)}.\r\n\r\n### Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ:\r\nĞŸÑ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑ Ğ´Ğ»Ñ Ğ¸ÑĞºÑƒÑÑÑ‚Ğ²Ğ¾Ğ²ĞµĞ´Ğ¾Ğ² Ğ¸ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸ĞºĞ¾Ğ².\r\n\r\n*Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ollama Ğ´Ğ»Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ AI-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°*`\r\n  };\r\n  \r\n  return responses[type] || responses.description;\r\n};\r\n\r\nconst getHistoricalContext = (year) => {\r\n  if (year < 0) return 'Ğ´Ñ€ĞµĞ²Ğ½Ğ¸Ñ… Ñ†Ğ¸Ğ²Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹';\r\n  if (year < 500) return 'Ñ€Ğ°Ğ½Ğ½ĞµĞ³Ğ¾ ÑÑ€ĞµĞ´Ğ½ĞµĞ²ĞµĞºĞ¾Ğ²ÑŒÑ';\r\n  if (year < 1500) return 'ÑÑ€ĞµĞ´Ğ½ĞµĞ²ĞµĞºĞ¾Ğ²ÑŒÑ';\r\n  if (year < 1800) return 'ÑĞ¿Ğ¾Ñ…Ğ¸ Ğ’Ğ¾Ğ·Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ';\r\n  if (year < 1900) return 'ĞĞ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸';\r\n  return 'ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸';\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}